[gd_scene load_steps=6 format=3 uid="uid://br82d65qlha22"]

[ext_resource type="Script" uid="uid://8y53sjqu8obf" path="res://entities/player/player.gd" id="1_abrql"]
[ext_resource type="PackedScene" uid="uid://cqhna6sp0j81h" path="res://entities/skin.tscn" id="1_symyc"]
[ext_resource type="PackedScene" uid="uid://duowqwgxey3gs" path="res://assets/weapons/pew.tscn" id="3_sglur"]
[ext_resource type="Script" uid="uid://5kjon8bbiwui" path="res://entities/player/ui.gd" id="4_bls4j"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_sfv1e"]

[node name="Player" type="CharacterBody3D" node_paths=PackedStringArray("pointer_slot", "shotRaycast", "reticle", "pew", "ammo_label", "shotTimer", "ui", "item_slot")]
collision_layer = 2
collision_mask = 5
script = ExtResource("1_abrql")
pointer_slot = NodePath("skin/pointer")
shotRaycast = NodePath("skin/pointer/ShotRaycast")
reticle = NodePath("UI/ReticleMarginContainer/Reticle")
pew = NodePath("skin/pointer/pew")
ammo_label = NodePath("UI/AmmoMarginContainer/AmmoLabel")
shotTimer = NodePath("Timers/ShotTimer")
ui = NodePath("UI")
item_slot = NodePath("skin/pointer/ItemSlot")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("CapsuleShape3D_sfv1e")

[node name="skin" parent="." instance=ExtResource("1_symyc")]

[node name="Camera3D" type="Camera3D" parent="skin/pointer" index="0"]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, 0, -0.47833, 0.393415)

[node name="pew" parent="skin/pointer" index="1" instance=ExtResource("3_sglur")]
transform = Transform3D(0.522642, 0, -4.97261, 0, 5, 0, 4.97261, 0, 0.522642, -0.232073, -0.746408, 1.06583)
visible = false

[node name="ShotRaycast" type="RayCast3D" parent="skin/pointer" index="2"]
transform = Transform3D(1, 0, -6.45849e-09, 0, 1, 0, 6.45849e-09, 0, 1, 0, -0.474211, 0.589557)
target_position = Vector3(0, 0, 1000)
collision_mask = 13
collide_with_areas = true
collide_with_bodies = false

[node name="ItemSlot" type="Node3D" parent="skin/pointer" index="3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.232073, -0.746408, 1.06583)

[node name="UI" type="Control" parent="." node_paths=PackedStringArray("ammo_label")]
layout_mode = 3
anchors_preset = 0
offset_left = 571.0
offset_top = 319.0
offset_right = 581.0
offset_bottom = 329.0
script = ExtResource("4_bls4j")
ammo_label = NodePath("AmmoMarginContainer/AmmoLabel")

[node name="ReticleMarginContainer" type="MarginContainer" parent="UI"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -5.0
offset_top = -5.0
offset_right = 5.0
offset_bottom = 5.0
grow_horizontal = 2
grow_vertical = 2

[node name="Reticle" type="ColorRect" parent="UI/ReticleMarginContainer"]
layout_mode = 2

[node name="AmmoMarginContainer" type="MarginContainer" parent="UI"]
layout_mode = 0
offset_left = -539.0
offset_top = 252.0
offset_right = -445.0
offset_bottom = 298.0

[node name="AmmoLabel" type="RichTextLabel" parent="UI/AmmoMarginContainer"]
visible = false
layout_mode = 2
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_colors/font_shadow_color = Color(0, 0, 0, 1)
theme_override_font_sizes/normal_font_size = 25
text = "10 / 10"

[node name="Timers" type="Node" parent="."]

[node name="ShotTimer" type="Timer" parent="Timers"]
wait_time = 0.25
one_shot = true

[editable path="skin"]
